<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Trends Widget</title>
    <script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/3898_RC01/embed_loader.js"></script>
</head>
<body style="margin: 0; padding: 0; overflow: hidden;">
<div id="trends-widget" style="width: 100%; height: 100%;"></div>
<script type="text/javascript">
    // Function to get query parameters
    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    // Fetch parameters
    const keyword = getQueryParam('keyword') || 'bitcoin';
    const geo = getQueryParam('geo') || 'US';
    const time = getQueryParam('time') || 'now 7-d';

    // Render the widget dynamically
    trends.embed.renderExploreWidget(
        "TIMESERIES",
        {
            comparisonItem: [
                { keyword, geo, time },
            ],
            category: 0,
            property: "",
        },
        {
            exploreQuery: `date=${time}&geo=${geo}&q=${keyword}&hl=en-GB`,
            guestPath: "https://trends.google.com:443/trends/embed/",
        }
    );
</script>
</body>
</html>
